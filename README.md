# Usage

### Pre-requisites  
Follow this [Setup Guide](https://github.com/vinitdadyala/adu-ai-agent/blob/main/SETUP.md).

---

## 1️⃣ `pom_dependency_parser.py`  
Parses an uploaded XML (`pom.xml`) file into structured dependency details and provides a downloadable JSON file (`dependencies.json`).

### **Run the script**:
```sh
streamlit run front-end/pom_dependency_parser.py
```

### **UI Previews**:
1. **When there are no dependencies**:  
   <img width="432" alt="image" src="https://github.com/user-attachments/assets/49ebc0a3-d77f-4855-98ae-72eaed1ab384" />

2. **When dependencies are found**:  
   <img width="432" alt="image" src="https://github.com/user-attachments/assets/15e82601-829e-4c89-afad-6d8ebc68ac36" />

### **Output**:  
The extracted dependencies, `dependencies.json` under **`dist` folder** to proceed further.

---

## 2️⃣ `maven_dependency_updater.py`  
Processes the `dependencies.json` file generated by `pom_dependency_parser.py`, fetches the latest available versions for each dependency, and produces an updated file, `dist/updated_dependencies.json`.

### **Functionality**:
- Reads `dependencies.json` (extracted Maven dependencies).
- Queries an online repository to retrieve the **latest stable versions**.
- Updates the dependency versions and saves the results in `updated_dependencies.json`.
- Helps keep projects up to date with minimal manual effort.

### **Run the script**:
```sh
python3 scripts/maven_dependency_updater.py
```

### **Example Input (`dependencies.json`)**:
```json
{
    "dependencies": [
        {
            "group_id": "org.springframework.boot",
            "artifact_id": "spring-boot-starter-web",
            "version": "2.3.1.RELEASE"
        },
        {
            "group_id": "com.fasterxml.jackson.core",
            "artifact_id": "jackson-databind",
            "version": "2.10.0"
        },
        {
            "group_id": "org.apache.commons",
            "artifact_id": "commons-lang3",
            "version": "3.9"
        }
    ]
}
```

### **Example Output (`updated_dependencies.json`)**:
```json
{
    "dependencies": [
        {
            "group_id": "org.springframework.boot",
            "artifact_id": "spring-boot-starter-web",
            "version": "3.4.3"
        },
        {
            "group_id": "com.fasterxml.jackson.core",
            "artifact_id": "jackson-databind",
            "version": "2.18.2"
        },
        {
            "group_id": "org.apache.commons",
            "artifact_id": "commons-lang3",
            "version": "3.17.0"
        }
    ]
}
```

---

## 3️⃣ `dependency_sync.py`  
Reads `pom.xml` and writes the extracted data to `dist/input_prompt.json`.

### **Run the script**:
```sh
python3 scripts/dependency_sync.py
```

---

## 4️⃣ `analyze_dependencies.py`  
Reads `dist/input_prompt.json` and generates a Dependency Analysis Report.

### **Run the script**:
```sh
python3 scripts/analyze_dependencies.py
```

---

## 5️⃣ `pom_analyzer.py`  
Parses a valid updated `pom.xml` file and generates a Dependency Analysis Report.

### **Run the script**:
```sh
streamlit run front-end/pom_analyzer.py
```